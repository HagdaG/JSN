<%# app/views/pages/faca_parte.html.erb - C√≥digo Final com Email de Candidatura Corrigido %>

<div class="text-white py-8">
  <h1 class="text-5xl font-extrabold mb-8 text-purple-extra-light text-center" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Fa√ßa Parte do JSN!</h1>

  <div class="bg-purple-medium p-8 rounded-lg shadow-xl border-2 border-purple-light mb-12 text-center">
    <p class="text-lg leading-relaxed mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
      Se voc√™ ama o BTS e quer contribuir para o crescimento e a for√ßa da nossa comunidade, h√° diversas formas de fazer parte do JSN! Seu apoio √© fundamental.
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
    <div class="bg-purple-dark p-8 rounded-lg shadow-xl border-2 border-pink-neon text-center">
      <i class="fas fa-handshake text-gold-accent text-5xl mb-4" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"></i>
      <h2 class="text-3xl font-bold mb-4 text-gold-accent" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Como Volunt√°rio(a)</h2>
      <p class="text-md leading-relaxed mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
        Sua energia e habilidades podem fazer a diferen√ßa! Buscamos pessoas apaixonadas para ajudar em diversas √°reas:
      </p>
      <ul class="list-disc list-inside text-left mx-auto max-w-sm mb-6 text-md leading-relaxed space-y-2">
        <li style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Cria√ß√£o de Conte√∫do (textos, artigos)</li>
        <li style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Gest√£o de M√≠dias Sociais</li>
        <li style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Organiza√ß√£o de Eventos Online/Presenciais</li>
        <li style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Design Gr√°fico</li>
        <li style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Suporte √† Comunidade</li>
      </ul>
      <p class="text-md leading-relaxed mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
        Se voc√™ tem interesse em dedicar seu tempo e talento, entre em contato conosco!
      </p>
      <%# LINHA MODIFICADA: Usando mail_to com o endere√ßo de e-mail correto como o PRIMEIRO argumento %>
      <%= mail_to "projetojuntoseshallownownext@gmail.com", raw('<i class="fas fa-envelope mr-2"></i> Enviar Candidatura'),
                  subject: "Candidatura para Volunt√°rio(a) JSN",
                  class: 'bg-blue-light text-white font-bold py-3 px-6 rounded-full text-lg shadow-lg transition duration-300 hover:bg-gold-accent hover:text-black active:bg-gold-accent active:text-black',
                  style: "text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;" %>
    </div>

    <div class="bg-purple-dark p-8 rounded-lg shadow-xl border-2 border-blue-light text-center">
      <i class="fas fa-money-check-alt text-pink-neon text-5xl mb-4" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"></i>
      <h2 class="text-3xl font-bold mb-4 text-pink-neon" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Apoio Financeiro</h2>
      <p class="text-md leading-relaxed mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
        As contribui√ß√µes financeiras nos ajudam a aumentar o n√∫meros de ARMYS que ser√£o beneficiadas. Cada valor, por menor que seja, faz uma grande diferen√ßa!
      </p>
      <ul class="list-disc list-inside text-left mx-auto max-w-sm mb-6 text-md leading-relaxed space-y-2">
        <%# REMOVIDO: A chave PIX direta daqui para ir para o pop-up %>
        <li style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Outras formas de doa√ß√£o em breve!</li>
      </ul>
      <p class="text-md leading-relaxed mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
        Sua generosidade nos permite continuar com a nossa miss√£o de levar o amior n√∫mero de ARMYS para o pr√≥ximo show dos meninos aqui no Brasil.
      </p>
      <%# BOT√ÉO "Como Doar" - Agora com ID para o JavaScript %>
      <button id="show-pix-button-fa√ßa-parte" class="bg-gold-accent hover:bg-purple-light text-purple-dark font-bold py-3 px-6 rounded-full text-lg shadow-lg transition duration-300" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
        <i class="fas fa-donate mr-2"></i> Como Doar
      </button>
    </div>
  </div>

  <div class="text-center mt-12 pt-8 border-t border-purple-light">
    <p class="text-xl font-semibold text-purple-extra-light mb-4" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
      Qualquer forma de apoio √© muito bem-vinda e essencial para o JSN!
    </p>
    <p class="text-lg leading-relaxed" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
      Sua participa√ß√£o faz a diferen√ßa para a nossa comunidade ARMY.
    </p>
  </div>
</div>

<div id="pix-info-fa√ßa-parte" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
  <div class="bg-purple-dark p-8 rounded-lg shadow-2xl text-center border-4 border-pink-neon max-w-lg w-full relative">
    <button id="close-pix-button-top-fa√ßa-parte" class="absolute top-4 right-4 text-white hover:text-gray-300 text-2xl leading-none">&times;</button>
    <p class="text-white text-2xl font-semibold mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">üíú Que bom que voc√™ est√° doando e apoiando o Projeto JSN! Sua generosidade faz a diferen√ßa! üíú</p>
    <p class="text-gold-accent text-3xl font-bold break-all mb-6" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
      Chave PIX (e-mail): <span id="pix-key-email-fa√ßa-parte">projetojuntoseshallownownext@gmail.com</span>
    </p>
    <button id="copy-pix-button-fa√ßa-parte" class="mt-4 px-8 py-3 bg-pink-neon hover:bg-purple-light text-white font-bold rounded-full text-lg shadow-md transition duration-300" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Copiar Chave PIX</button>
    <button id="close-pix-button-bottom-fa√ßa-parte" class="mt-6 px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded-full transition duration-300 ml-4" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Entendi!</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Refer√™ncias para elementos da p√°gina "Fa√ßa Parte"
    const showButtonFa√ßaParte = document.getElementById('show-pix-button-fa√ßa-parte');
    const closeButtonTopFa√ßaParte = document.getElementById('close-pix-button-top-fa√ßa-parte');
    const closeButtonBottomFa√ßaParte = document.getElementById('close-pix-button-bottom-fa√ßa-parte');
    const pixInfoFa√ßaParte = document.getElementById('pix-info-fa√ßa-parte');
    const copyPixButtonFa√ßaParte = document.getElementById('copy-pix-button-fa√ßa-parte');
    const pixKeyEmailFa√ßaParte = document.getElementById('pix-key-email-fa√ßa-parte');

    // Fun√ß√£o para mostrar a se√ß√£o PIX na p√°gina "Fa√ßa Parte"
    if (showButtonFa√ßaParte && pixInfoFa√ßaParte) {
      showButtonFa√ßaParte.addEventListener('click', function() {
        pixInfoFa√ßaParte.classList.remove('hidden');
        // Adicione anima√ß√£o se tiver (ex: pixInfoFa√ßaParte.classList.add('animate-fade-in');)
      });
    }

    // Fun√ß√£o para fechar a se√ß√£o PIX (bot√£o "X" no topo)
    if (closeButtonTopFa√ßaParte && pixInfoFa√ßaParte) {
      closeButtonTopFa√ßaParte.addEventListener('click', function() {
        pixInfoFa√ßaParte.classList.add('hidden');
      });
    }

    // Fun√ß√£o para fechar a se√ß√£o PIX (bot√£o "Entendi!")
    if (closeButtonBottomFa√ßaParte && pixInfoFa√ßaParte) {
      closeButtonBottomFa√ßaParte.addEventListener('click', function() {
        pixInfoFa√ßaParte.classList.add('hidden');
      });
    }

    // Fun√ß√£o para copiar a chave PIX
    if (copyPixButtonFa√ßaParte && pixKeyEmailFa√ßaParte) {
      copyPixButtonFa√ßaParte.addEventListener('click', function() {
        const textToCopy = pixKeyEmailFa√ßaParte.textContent || pixKeyEmailFa√ßaParte.innerText;
        navigator.clipboard.writeText(textToCopy).then(() => {
          alert('Chave PIX copiada para a √°rea de transfer√™ncia!');
          copyPixButtonFa√ßaParte.textContent = 'Copiado!';
          setTimeout(() => {
            copyPixButtonFa√ßaParte.textContent = 'Copiar Chave PIX';
          }, 2000);
        }).catch(err => {
          console.error('Erro ao copiar a chave PIX: ', err);
          alert('N√£o foi poss√≠vel copiar. Por favor, copie manualmente: ' + textToCopy);
        });
      });
    }
  });
</script>
