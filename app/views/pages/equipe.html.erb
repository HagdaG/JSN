<%# app/views/pages/equipe.html.erb - Código Final da Página Equipe JSN (Biografias e Imagens Corrigidas) %>

<div class="py-12">
  <h1 class="text-5xl font-bold text-purple-300 text-center mb-10" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Nossa Equipe e Parceiros JSN</h1>

  <%# SEÇÃO DA VITÓRIA (ADMIN PRINCIPAL) - CONTAINER CENTRALIZADO E DESTAQUE %>
  <% if @vitoria.present? %>
  <section class="mb-16 bg-purple-medium p-8 rounded-lg shadow-xl text-center flex flex-col md:flex-row items-center md:items-start max-w-2xl mx-auto border-4 border-gold-accent">
    <h2 class="text-3xl font-bold text-purple-extra-light mb-4 md:hidden" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Vitória Luiza Almeida de Azevedo</h2>
    <%# Usando o helper para a imagem da Vitória %>
    <%= display_model_image(@vitoria, 'vitoria_luiza.jpg', class: "w-48 h-48 object-cover rounded-full mb-6 md:mb-0 md:mr-6 border-4 border-pink-neon") %>
    
    <div class="flex flex-col items-center md:items-start text-center md:text-left">
      <h2 class="text-3xl font-bold text-gold-accent mb-2 hidden md:block" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"><%= @vitoria.name.presence || "Vitória Luiza Almeida de Azevedo" %></h2>
      <%# Biografia da Vitória com 'whitespace-pre-wrap' %>
      <p class="text-lg leading-relaxed text-gray-300 mb-4 whitespace-pre-wrap" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
        <%= @vitoria.bio.presence || "Fundadora líder. Principal responsável pela direção estratégica e operacional do projeto Juntos e Shallow Now - JSN." %>
      </p>
      <%# Link para redes sociais da Vitória %>
      <% if @vitoria.social_link.present? %>
        <a href="<%= @vitoria.social_link %>" target="_blank" rel="noopener noreferrer"
           class="inline-flex items-center justify-center px-6 py-3 border-2 border-pink-neon text-pink-neon bg-white font-bold rounded-full text-lg shadow-md transition duration-300 mt-4 hover:bg-gold-accent hover:text-black active:bg-gold-accent active:text-black"
           style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
          <i class="fab fa-instagram mr-2"></i> Visitar Rede Social
        </a>
      <% end %>
    </div>
  </section>
  <% end %>

  <%# --- SEÇÃO DE COLABORADORES JSN (OUTROS ADMINUSERS) --- %>
  <section class="mt-16 bg-purple-dark p-8 rounded-lg shadow-xl">
    <h2 class="text-3xl font-bold text-purple-extra-light mb-8 text-center" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Nossos Colaboradores da Equipe</h2>

    <% if @colaboradores.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <% @colaboradores.each do |colaborador| %>
          <div class="bg-purple-medium p-6 rounded-lg shadow-md border border-purple-light flex flex-col items-center text-center hover:shadow-xl transition-shadow duration-300">
            <%# Usando o helper para a imagem do colaborador %>
            <%= display_model_image(colaborador, 'default_profile.png', class: "w-32 h-32 object-cover rounded-full mt-2 mb-4 border-2 border-pink-neon") %>
            
            <h3 class="text-2xl font-semibold text-purple-extra-light mb-2" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"><%= colaborador.name.presence || colaborador.email.split('@').first.capitalize %></h3>
            <%# Biografia do colaborador com 'whitespace-pre-wrap' %>
            <p class="text-sm text-gray-300 mb-4 flex-grow whitespace-pre-wrap" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"><%= colaborador.bio.presence || "Sem biografia." %></p>
            <%# Links sociais para colaboradores %>
            <% if colaborador.social_link.present? %>
              <a href="<%= colaborador.social_link %>" target="_blank" rel="noopener noreferrer"
                 class="inline-flex items-center justify-center px-4 py-2 border-2 border-pink-neon text-pink-neon bg-white font-bold rounded-full text-sm shadow-md transition duration-300 mt-auto hover:bg-gold-accent hover:text-black active:bg-gold-accent active:text-black"
                 style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
                <i class="fab fa-instagram mr-2"></i> Perfil
              </a>
            <% end %>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-lg leading-relaxed text-gray-300 text-center" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Nenhum colaborador da equipe cadastrado ainda.</p>
    <% end %>
  </section>

  <%# --- SEÇÃO DE OUTROS PARCEIROS EXTERNOS --- %>
  <section class="mt-16 bg-purple-dark p-8 rounded-lg shadow-xl">
    <h2 class="text-3xl font-bold text-purple-extra-light mb-8 text-center" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Nossos Parceiros Externos</h2>

    <% if @partners.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <% @partners.each do |partner| %>
          <div class="bg-purple-medium p-6 rounded-lg shadow-md border border-purple-light flex flex-col items-center text-center hover:shadow-xl transition-shadow duration-300">
            <%# Usando o helper para a imagem do parceiro %>
            <%= display_model_image(partner, 'default_partner_logo.png', class: "w-32 h-32 object-contain mx-auto mb-4 border-2 border-purple-light") %>
            
            <h3 class="text-2xl font-semibold text-purple-extra-light mb-2" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"><%= partner.name.presence || "Nome do Parceiro" %></h3>
            <%# Descrição do parceiro com 'whitespace-pre-wrap' %>
            <p class="text-sm text-gray-300 mb-4 flex-grow whitespace-pre-wrap" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;"><%= partner.description.presence || "Sem descrição." %></p>
            <% if partner.link.present? %>
              <a href="<%= partner.link %>" target="_blank" rel="noopener noreferrer"
                         class="inline-flex items-center justify-center px-4 py-2 border-2 border-pink-neon text-pink-neon bg-white font-bold rounded-full text-sm shadow-md transition duration-300 mt-auto hover:bg-gold-accent hover:text-black active:bg-gold-accent active:text-black"
                         style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">
                <i class="fas fa-external-link-alt mr-2"></i> Visitar Site
              </a>
            <% end %>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-lg leading-relaxed text-gray-300 text-center" style="text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;">Nenhum parceiro externo cadastrado ainda.</p>
    <% end %>
  </section>

  <%# BOTÃO: TORNE-SE COLABORADOR! %>
  <div class="text-center mt-12 mb-8">
    <%= link_to 'Torne-se Colaborador!', support_path, class: 'bg-pink-neon text-white font-bold py-4 px-8 rounded-lg shadow-lg transition duration-300 inline-block hover:bg-pink-neon-dark active:bg-pink-neon-dark',
                style: "text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;" %>
  </div>

  <%# BOTÃO: VOLTAR PARA A PÁGINA INICIAL %>
  <div class="text-center mb-12">
    <%= link_to 'Voltar para a Página Inicial', root_path, class: 'bg-purple-light text-white font-bold py-3 px-8 rounded-full text-lg shadow-lg transition duration-300 inline-block hover:bg-purple-extra-light hover:text-black active:bg-purple-extra-light active:text-black',
                style: "text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black, -1.5px -1.5px 0 black, 1.5px -1.5px 0 black, -1.5px 1.5px 0 black, 1.5px 1.5px 0 black;" %>
  </div>
</div